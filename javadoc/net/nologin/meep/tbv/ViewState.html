<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_04) on Wed Jun 19 17:38:23 EDT 2013 -->
<title>ViewState</title>
<meta name="date" content="2013-06-19">
<link rel="stylesheet" type="text/css" href="../../../../stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ViewState";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../net/nologin/meep/tbv/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../net/nologin/meep/tbv/Utils.html" title="class in net.nologin.meep.tbv"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?net/nologin/meep/tbv/ViewState.html" target="_top">Frames</a></li>
<li><a href="ViewState.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<div class="subTitle">net.nologin.meep.tbv</div>
<h2 title="Class ViewState" class="title">Class ViewState</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>net.nologin.meep.tbv.ViewState</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public final class <span class="strong">ViewState</span>
extends java.lang.Object</pre>
<div class="block">An instance of this class is maintained by the <a href="../../../../net/nologin/meep/tbv/TiledBitmapView.html" title="class in net.nologin.meep.tbv"><code>TiledBitmapView</code></a>.  It is created whenever there's
 a new surface created, and contains both useful dimension values for that surface configuration (eg tiles wide)
 but also maintains the various tile ranges and offsets that get changed every time the user interacts with the
 UI.
 <br/><br/>
 All the public methods in this class are <i>synchronized</i>, as the view's instance will be written to by
 the UI thread (as the user interacts with it), but read by the rendering thread.  In order for the rendering
 thread to take a thread-safe copy of the variables it requires, this class also contains a <code>Snapshot</code>
 class to encapsulate those objects for atomic delivery.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../net/nologin/meep/tbv/ViewState.html#surfaceH">surfaceH</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../net/nologin/meep/tbv/ViewState.html#surfaceW">surfaceW</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../net/nologin/meep/tbv/ViewState.html#tilesHoriz">tilesHoriz</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../net/nologin/meep/tbv/ViewState.html#tilesVert">tilesVert</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>int</code></td>
<td class="colLast"><code><strong><a href="../../../../net/nologin/meep/tbv/ViewState.html#tileWidth">tileWidth</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="../../../../net/nologin/meep/tbv/ViewState.html#ViewState(int, int, int, java.lang.Integer[])">ViewState</a></strong>(int&nbsp;surfaceW,
         int&nbsp;surfaceH,
         int&nbsp;tileWidth,
         java.lang.Integer[]&nbsp;tileIDLimits)</code>
<div class="block">Create a new ViewState object, providing all the variables that won't change for the life of
 this instance.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../net/nologin/meep/tbv/ViewState.html#applySurfaceOffset(int, int)">applySurfaceOffset</a></strong>(int&nbsp;offsetX,
                  int&nbsp;offsetY)</code>
<div class="block">Update all relevant state fields to reflect a move to the specified surface offsets</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="../../../../net/nologin/meep/tbv/ViewState.html#applySurfaceOffsetRelative(int, int)">applySurfaceOffsetRelative</a></strong>(int&nbsp;relOffsetX,
                          int&nbsp;relOffsetY)</code>
<div class="block">Update all relevant state fields to reflect a change in surface offset by the specified amounts.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>net.nologin.meep.tbv.ViewState.Snapshot</code></td>
<td class="colLast"><code><strong><a href="../../../../net/nologin/meep/tbv/ViewState.html#getUpdatedSnapshot()">getUpdatedSnapshot</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code><a href="../../../../net/nologin/meep/tbv/TileRange.html" title="class in net.nologin.meep.tbv">TileRange</a></code></td>
<td class="colLast"><code><strong><a href="../../../../net/nologin/meep/tbv/ViewState.html#getVisibleTileRange()">getVisibleTileRange</a></strong>()</code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>float</code></td>
<td class="colLast"><code><strong><a href="../../../../net/nologin/meep/tbv/ViewState.html#updateZoomFactor(float)">updateZoomFactor</a></strong>(float&nbsp;zoomFactor)</code>
<div class="block">Update the state for a pinch-to-zoom value.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="tileWidth">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tileWidth</h4>
<pre>public final&nbsp;int tileWidth</pre>
</li>
</ul>
<a name="tilesHoriz">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tilesHoriz</h4>
<pre>public final&nbsp;int tilesHoriz</pre>
</li>
</ul>
<a name="tilesVert">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>tilesVert</h4>
<pre>public final&nbsp;int tilesVert</pre>
</li>
</ul>
<a name="surfaceW">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>surfaceW</h4>
<pre>public final&nbsp;int surfaceW</pre>
</li>
</ul>
<a name="surfaceH">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>surfaceH</h4>
<pre>public final&nbsp;int surfaceH</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="ViewState(int, int, int, java.lang.Integer[])">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>ViewState</h4>
<pre>public&nbsp;ViewState(int&nbsp;surfaceW,
         int&nbsp;surfaceH,
         int&nbsp;tileWidth,
         java.lang.Integer[]&nbsp;tileIDLimits)</pre>
<div class="block">Create a new ViewState object, providing all the variables that won't change for the life of
 this instance.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>surfaceW</code> - The surface width (px)</dd><dd><code>surfaceH</code> - The surface height (px)</dd><dd><code>tileWidth</code> - The length of the tiles used in this surface (see
                     <a href="../../../../net/nologin/meep/tbv/TileProvider.html#getConfigTileSize()"><code>TileProvider.getConfigTileSize()</code></a>)</dd><dd><code>tileIDLimits</code> - The tile id limits past which the user may not scroll (if not null, must
                     be a 4-element array, see <a href="../../../../net/nologin/meep/tbv/TileProvider.html#getConfigTileIDLimits()"><code>TileProvider.getConfigTileIDLimits()</code></a></dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getUpdatedSnapshot()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getUpdatedSnapshot</h4>
<pre>public&nbsp;net.nologin.meep.tbv.ViewState.Snapshot&nbsp;getUpdatedSnapshot()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>Returns a wrapper object containing the current values of this state instance that are useful to the
 rendering thread.</dd></dl>
</li>
</ul>
<a name="getVisibleTileRange()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getVisibleTileRange</h4>
<pre>public&nbsp;<a href="../../../../net/nologin/meep/tbv/TileRange.html" title="class in net.nologin.meep.tbv">TileRange</a>&nbsp;getVisibleTileRange()</pre>
<dl><dt><span class="strong">Returns:</span></dt><dd>The current range of Tile IDs that will be fetched to render the surface</dd></dl>
</li>
</ul>
<a name="applySurfaceOffsetRelative(int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>applySurfaceOffsetRelative</h4>
<pre>public&nbsp;boolean&nbsp;applySurfaceOffsetRelative(int&nbsp;relOffsetX,
                                 int&nbsp;relOffsetY)</pre>
<div class="block">Update all relevant state fields to reflect a change in surface offset by the specified amounts.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>relOffsetX</code> - The number of pixels to adjust the current x-offset by</dd><dd><code>relOffsetY</code> - The number of pixels to adjust the curreny y-offset by</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> if after moving to the new offset, the visible tile ID range has changed</dd></dl>
</li>
</ul>
<a name="applySurfaceOffset(int, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>applySurfaceOffset</h4>
<pre>public&nbsp;boolean&nbsp;applySurfaceOffset(int&nbsp;offsetX,
                         int&nbsp;offsetY)</pre>
<div class="block">Update all relevant state fields to reflect a move to the specified surface offsets</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>offsetX</code> - Set the current x-offset to this pixel value</dd><dd><code>offsetY</code> - Set the current y-offset to this pixel value</dd>
<dt><span class="strong">Returns:</span></dt><dd><code>true</code> if after moving to the new offset, the visible tile ID range has changed</dd></dl>
</li>
</ul>
<a name="updateZoomFactor(float)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>updateZoomFactor</h4>
<pre>public&nbsp;float&nbsp;updateZoomFactor(float&nbsp;zoomFactor)</pre>
<div class="block">Update the state for a pinch-to-zoom value.  This will be limited to the range 1.0 to 5.0.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>zoomFactor</code> - The zoomFactor as provided by the view's scale gesture listener.</dd>
<dt><span class="strong">Returns:</span></dt><dd>The value as stored in the state (may have been trimmed to the range 1.0 to 5.0)</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="../../../../net/nologin/meep/tbv/package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="../../../../deprecated-list.html">Deprecated</a></li>
<li><a href="../../../../index-all.html">Index</a></li>
<li><a href="../../../../help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="../../../../net/nologin/meep/tbv/Utils.html" title="class in net.nologin.meep.tbv"><span class="strong">Prev Class</span></a></li>
<li>Next Class</li>
</ul>
<ul class="navList">
<li><a href="../../../../index.html?net/nologin/meep/tbv/ViewState.html" target="_top">Frames</a></li>
<li><a href="ViewState.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="../../../../allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
